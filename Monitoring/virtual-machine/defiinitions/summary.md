# 監視設定

## 監視項目
何を監視するかの設定。  
対象はWeb/AP/DBの各レイヤ。

### 共通
全てのレイヤで共通的に監視する項目。
- CPU
  - Load Average
  - CPU使用率
- ハードディスク
  - IO
  - 使用量
- メモリ
  - 使用量
  - スワップ
- ネットワーク
  - IPレベルでの疎通

### Web
Webレイヤで監視する項目。
- アクセス
  - 疎通確認
  - アクセス数
  - 平均レスポンス時間
- ワーカー数

### AP
APレイヤで監視する項目。
- 疎通確認
- ヒープメモリ
- スレッド数
- GC

### DB
DBレイヤで監視する項目
- コネクション数
- スロークエリ発生数

## トリガー設定
設定項目に対してどのような状態になったらアラート通知を出すかの設定。

### 共通
- CPU
  - LAがCPU×2の状態が1分以上続いた場合
  - CPU全体の使用率が90%の状態が1分以上続いた場合
- ネットワーク
  - pingによる接続が1分以上繋がらなかった場合

### Web
- アクセス
  - 200 OK以外が帰ってきた場合

### AP
- 200 OK以外が帰ってきた場合

### DB
- コネクション数が90%を超えている状態が1分以上続いた場合

## トリガー未設定項目
どういう設定をすればいいのかわからないため未設定のもの。

### 共通
- ハードディスク
  - IO
  - 使用量
- メモリ
  - 使用量
  - スワップ

### Web
- アクセス
  - アクセス数
  - 平均レスポンス時間
- ワーカー数

### AP
APレイヤで監視する項目。
- ヒープメモリ
- スレッド数
- GC

### DB
DBレイヤで監視する項目
- スロークエリ発生数
